# redis缓存穿透

## 解决方案概述

可能绝大部分的做法都是缓存空结果，然后设置较短过期时间，甚至都是设置了5分钟。大家都是从网上抄答案。
很显然这能在某些情况下可以防止缓存穿透，对数据库形成压力，但也不是完全有效，比如每次查询缓存的Key都不相同，该方法就没什么用。

对数据量不大的数据，可以全部进行永久缓存，使用定时器定时更新缓存，完全避免查询底层数据库。

使用布隆过滤器存储key值，使用它来告诉应用“查询的东西一定不存在或者可能存在”，从而减少对不存在的数据进行昂贵的查询。
当然能写代码直接进行判断，过滤掉不可能存在的数据查询那就再好不过了。

## 存在redis缓存穿透的代码


# 存在redis缓存击穿的代码

## 解决方案概述

- 预热。上线某些功能的时候，刚开始是没有缓存的，上线前先通过脚本将热点数据提前缓存起来。
- 分布式锁。在热点数据失效，没有缓存的时候，通过分布式锁来实现只让第一个读取缓存的线程去读数据库并缓存。

## 存在问题的代码点

    无法判断哪些是热点数据。。。全部缓存都要防击穿？


    






